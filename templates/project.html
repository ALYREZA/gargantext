
{% extends "menu.html" %}

{% block css %}
{% load staticfiles %}
<link rel="stylesheet" href="{% static "css/bootstrap.css" %}">
<link rel="stylesheet" href="{% static "css/bootstrap-theme.min.css" %}">

<link rel="stylesheet" type="text/css" href="{% static "css/morris.css" %}">
<link rel="stylesheet" type="text/css" href="{% static "css/jquery.easy-pie-chart.css"%}">

<script src="{% static "js/jquery/jquery-1.9.1.min.js"%}"></script>
<script src="{% static "js/raphael-min.js"%}"></script>
<script src="{% static "js/morris.min.js"%}"></script>


{% endblock %}



{% block content %}

<div class="container theme-showcase" role="main">
        <div class="jumbotron">
				<div class="row">
        <div class="col-md-6">
            {% if project %}
            <h1>{{ project.name }}</h1>
            <h3> {{number}} corpora </h3>
            {% endif %}
        </div>

        <div class="col-md-4">
				<p>
	  		<div id="hero-donut" style="height: 200px;"></div>
        <center>
            <button 
								type="button" 
								class="btn btn-primary btn-lg" 
								data-container="body" 
								data-toggle="popover" 
								data-placement="bottom"
				>Add a corpus</button>
								<div id="popover-content" class="hide">

					<form enctype="multipart/form-data" action="/project/{{project.id}}/" method="post">
    {% csrf_token %}
		{{ form.non_field_errors }}
		{{ form.as_p}}
		
		{{ formResource.non_field_errors }}
		{{ formResource.as_p}}
		<input type="submit" class="btn" value="Add this corpus" />
</form>
    </center>
				</p>

								</div>
		        </div>

        </div>


        </div>
        </div>
</div>
<!-- Add jumbotron container for each type of corpus (presse, science etc.) --!>

<div class="container">
    <div class="row">
								{% if board  %}
										{% for corpus in board %}
										<div class="col-md-4">
                        <h3><a href="/project/{{project.id}}/corpus/{{corpus.id}}">{{corpus.name}}</a>
												<button type="button" class="btn btn-xs btn-default" data-container="body" data-toggle="popover" data-placement="bottom" data-content='<a href="/project/{{ project.id }}/corpus/{{ corpus.id}}/delete">Delete it!</a>'>Manage</button>

												
												
												</h3>
												<h4>{{ corpus.count }} Documents </h4>
                        <p>{{ corpus.language }} {{ corpus.database}}</p>
												<h5>Activity:</h5>
												<div class="chart" data-percent="73">73%</div>

										</div>
										{% endfor %}
								{% endif %}
        
    </div>
</div>


<script>
        // Morris Donut Chart
        Morris.Donut({
            element: 'hero-donut',
            data: [
            {% if camembert %}
            {% for part in camembert %}
						{label: '{{ part.source }}, {{part.count}} docs', value: {{ part.part }} },
            {% endfor %}
            {% endif %}

            ],
            colors: ["#939393", "#939555"],
            //colors: ["#30a1ec", "#76bdee"],
            formatter: function (y) { return y + "%" }
        });
</script>




{% endblock %}
