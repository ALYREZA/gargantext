# django.ini file
[uwsgi]

env = DJANGO_SETTINGS_MODULE=gargantext_web.settings
#module = django.core.handlers.wsgi:WSGIHandler()

#touch-reload= /tmp/gargantext.reload

# the base directory
chdir           = /srv/gargantext

# Django's wsgi file
#module          = wsgi
wsgi-file       = /srv/gargantext/wsgi.py
# the virtualenv
home            = /srv/gargantext_env/


# master
master                  = true

# maximum number of processes
processes               = 10

# the socket (use the full path to be safe)
socket          = /tmp/gargantext.sock

# with appropriate permissions - *may* be needed
chmod-socket    = 666

# clear environment on exit
vacuum          = true

pidfile = /tmp/gargantext.pid

# respawn processes taking more than 20 seconds
harakiri = 120

# limit the project to 128 MB
#limit-as = 128

# respawn processes after serving 5000 requests
max-requests = 5000

# background the process & log
#daemonize = /var/log/uwsgi/gargantext.log

uid = 1000
gid = 1000
